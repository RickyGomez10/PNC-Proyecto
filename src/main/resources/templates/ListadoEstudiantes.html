<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</head>
<body>
<div>
    <h1>Listado de Estudiantes</h1>
    <table>
        <thead>
        <th colspan="2"> Acción</th>
        <th> Nombre</th>
        <th> Apellido</th>
        <th> Materias Aprobadas</th>
        <th> Materias Reprobadas</th>
        <th> Promedio</th>

        </thead>
        <th:block th:each="estudiante, row: ${estudiantes}">
            <tr>
                <td>
                    <form th:action="@{/EditarEstudiante}" th:object="${estudiante}" method="post">
                        <Button th:name="carne" th:value="*{carne}">Editar</Button>
                    </form>
                </td>
                <td>
                    <form th:action="@{/materiaCursada}" th:object="${estudiante}" method="post">
                        <Button th:name="carne" th:value="*{carne}">Materias</Button>
                    </form>
                </td>
                <td th:text="${estudiante.nombre}"/>
                <td th:text="${estudiante.apellido}"/>
                <td th:text="${estudiante.aprobadas}"/>
                <td th:text="${estudiante.reprobadas}"/>
                <td th:text="${estudiante.promedio}"/>

            </tr>


        </th:block>


    </table>
    <button onclick="location.href='/expedientes'">Regresar</button>
</div>

<script th:if="${msg == '1'}">
    swal("¡Éxito!", "Se ha registrado el usuario, espere a que su usuario sea habilitado para iniciar sesión.", "success");
</script>

<script th:if="${msg == '2'}">
    swal("Algo ha salido mal...", "Parece ser que ese usuario ya ha sido registrado, prueba con otro.", "error");
</script>

<script th:if="${msg == '3'}">
    swal("Algo ha salido mal...", "Ha ocurrido un error, revisa que la información ingresada sea correcta.", "error");
</script>

</body>
</html>